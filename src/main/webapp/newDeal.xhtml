<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" 
	xmlns:ui="http://java.sun.com/jsf/facelets">
<head>
   
  </head>
<h:body>
<ui:composition template="commonLayout.xhtml">
		<ui:define name="content">
		<p:scrollPanel mode="native" style="position: absolute; height: 88%;width:100%;">
			<h:form prependId="false">							
			<ui:include src="search.xhtml" />
						<table border="0" width="55%" >
							<tr>
								<td colspan="4" align="left"><b>REFERENCE NUMBER:
										#{deal.reference_No}</b></td>
							</tr>

							<tr>
								<td style="font-size:12px;width:60px">Client Name * : &nbsp;&nbsp;<h:outputText  style="color:red;font-size: 7pt;" id="err_customer_Name">
								</h:outputText><h:message  globalOnly="true" showSummary="false" showDetail="true" for="customer_Name" style="color:red;">
								</h:message> <h:inputText id="customer_Name" value="#{dealInfo.customer_Name}" required="true" requiredMessage="Cannot be null">
							
							<f:validateRequired />
							</h:inputText></td>
								<td style="font-size:12px;width:60px" align="left">Opportunity Name * : &nbsp;&nbsp;<h:outputText  style="color:red;font-size: 7pt;" id="err_opportunity_Name">
								</h:outputText>	<h:message  globalOnly="true" showSummary="false" showDetail="true" for="opportunity_Name" style="color:red;"></h:message><h:inputText
										id="opportunity_Name" value="#{dealInfo.opportunity_Name}" required="true" requiredMessage="Cannot be null">
								
										<f:validateRequired />
										</h:inputText>
										</td>
								<td style="font-size:12px;width:60px" align="left">Opportunity Owner: <h:inputText
										value="#{dealInfo.opportunity_Owner}" /></td>
							</tr>
							<tr>
								<td style="font-size:12px;width:60px">Opportunity Description * : &nbsp;&nbsp;<h:outputText  style="color:red;font-size: 7pt;" id="err_opportunity_Description">
								</h:outputText><h:message id="od" globalOnly="true" showSummary="false" showDetail="true"  for="opportunity_Description" style="color:red;"></h:message><h:inputTextarea
										id="opportunity_Description" value="#{dealInfo.opportunity_Description}"  required="true" requiredMessage="Cannot be null">
						
										</h:inputTextarea>
											
										</td>
								<td style="font-size:12px;width:60px">Additional Contacts:<h:inputText
										value="#{dealInfo.additional_Contacts}" /></td>
								<td style="font-size:12px;width:60px">Box :<h:inputText value="#{dealInfo.box_Link}" /></td>
						</tr>


							<tr>
								<td style="font-size:12px;width:60px">IMT: <h:selectOneMenu value="#{dealInfo.imt_Id}" >
										<f:selectItem itemLabel="Please Choose" itemValue="#{null}" noSelectionOption="true"/>
										<f:selectItems value="#{deal.IMTList}" immediate="true" />
									</h:selectOneMenu>
								</td>
								<td style="font-size:12px;width:60px">Sector: <h:selectOneMenu value="#{dealInfo.sector_Id}" >
									<!-- 	<f:selectItem itemLabel="Please Choose" itemValue="#{null}" noSelectionOption="true"/>	 -->
										<f:selectItems value="#{deal.sectorList}" immediate="true" />
									</h:selectOneMenu>
								</td>
								<td style="font-size:12px;width:60px">Led By: <h:selectOneMenu value="#{dealInfo.gbs_gts_Led}" >
										<f:selectItem itemLabel="Please Choose" itemValue="#{null}" noSelectionOption="true"/>
										<f:selectItems value="#{deal.ledByList}" immediate="true" />
									</h:selectOneMenu>
								</td>
								</tr>
								<tr>
								<td style="font-size:12px;width:60px">SSM Stage:<h:inputText
										value="#{dealInfo.ssm_Stage}" /></td>
								<td style="font-size:12px;width:60px">SC TCV:<h:inputText
										value="#{dealInfo.tcv}" /></td>
								<td >Sales Connect No:<h:inputText
										value="#{dealInfo.sales_Connect_No}" /></td>
							</tr>
						</table>
						
						<hr />
						
				<h:inputHidden id="insertFlag" value="#{deal.insertFlag }"></h:inputHidden>
				<ui:include src="newA1Form.xhtml" />
				
			
				<ui:include src="newDealInfo.xhtml" />
				<h:commandButton id="saveButton"  value="SAVE CHANGES" onclick="return validate()"  action="#{deal.isDealExist}"
					class="btn-default" />
		
					<script>
					//<![CDATA[
					function validate(){
						//var status = $("#insertFlag").val();
						var customer_Name = $("#customer_Name").val();
						var opportunity_Name = $("#opportunity_Name").val();
						var opportunity_Description = $("#opportunity_Description").val();
						//var a1Status = $("#a1Form:j_idt61:0:a1Status").val();
						//alert("a1Status:"+a1Status);
						var status = false;
						if (customer_Name == '') {
							
			    		   	 $("#err_customer_Name").html("Cannot be Null");
			    		   } 
						if (opportunity_Name == '') {
							
			    		   	 $("#err_opportunity_Name").html("Cannot be Null");
			    		   } 
						if (opportunity_Description == '') {
							
			    		   	 $("#err_opportunity_Description").html("Cannot be Null");
			    		   } 
						 /*  if (a1Status == '') {
							
								 $("#err_a1_Status").html("Cannot be Null");
			    		   }  */ 
						 if(customer_Name != '' && opportunity_Name != '' && opportunity_Description != '' ){
							 status = true;
						 }
						 return status;
						 
			    }
					//]]>
			</script>	
			</h:form>
			</p:scrollPanel>
		</ui:define>

	</ui:composition>



</h:body>

</html>
