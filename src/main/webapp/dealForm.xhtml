<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" 
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:body>
	<ui:composition template="commonLayout.xhtml">
		<ui:define name="content">
		<p:scrollPanel mode="native" style="position: absolute; height: 88%;">
			<h:form>
				<h:dataTable id="dealResult" var="row" value="#{deal.dealList}" headerClass="dealTableHeader">

					<h:column>


						<br></br>
						<br></br>
						<br></br>
						<table border="0" width="60%">
							<tr>
								<td colspan="4" align="left"><b>Reference Number:
										#{row.reference_No}</b></td>
							</tr>

							<tr>
								<td>Client Name: <h:inputText value="#{row.customer_Name}"></h:inputText></td>
								<td align="left">Opportunity Name: <h:inputText
										value="#{row.opportunity_Name}" /></td>
								<td align="left">Opportunity Owner: <h:inputText
										value="#{row.opportunity_Owner}" /></td>
							</tr>
							<tr>
								<td>Opportunity Description:<h:inputTextarea
										value="#{row.opportunity_Description}" /></td>
								<td>Additional Contacts:<h:inputText
										value="#{row.additional_Contacts}" /></td>
								<td>Box :<h:inputText value="#{row.box_Link}" /></td>
						</tr>


							<tr>
								<td>IMT: <h:selectOneMenu value="#{row.imt_Id}" required="true"
										requiredMessage="Please Select">
										<f:selectItems value="#{deal.IMTList}" immediate="true" />
									</h:selectOneMenu>
								</td>
								<td>Sector: <h:selectOneMenu value="#{row.sector_Id}" required="true"
										requiredMessage="Please Select">
										<f:selectItems value="#{deal.sectorList}" immediate="true" />
									</h:selectOneMenu>
								</td>
								<td>Led By: <h:selectOneMenu value="#{row.gbs_gts_Led}" required="true"
										requiredMessage="Please Select">
										<f:selectItems value="#{deal.ledByList}" immediate="true" />
									</h:selectOneMenu>
								</td>
								</tr>
								<tr>
								<td>SSM Stage:<h:inputText
										value="#{row.ssm_Stage}" /></td>
								<td>SC TCV:<h:inputText
										value="#{row.tcv}" /></td>
								<td>Sales Connect No:<h:inputText
										value="#{row.sales_Connect_No}" /></td>
							</tr>
						</table>
						<hr />


					</h:column>

				</h:dataTable>
				<ui:include src="A1Form.xhtml" />
				<ui:include src="dealInfo.xhtml" />
				<h:commandButton id="saveButton" value="SAVE CHANGES" class="btn-default" 
				action="#{deal.updateDeal}">
				</h:commandButton>
			</h:form>
			</p:scrollPanel>
		</ui:define>

	</ui:composition>
<script>
					//<![CDATA[
					function validate(){
						//var status = $("#insertFlag").val();
						var customer_Name = $("#customer_Name").val();
						var opportunity_Name = $("#opportunity_Name").val();
						var opportunity_Description = $("#opportunity_Description").val();
						//var a1Status = $("#a1Form:j_idt61:0:a1Status").val();
						//alert("a1Status:"+a1Status);
						var status = false;
						if (customer_Name == '') {
							
			    		   	 $("#err_customer_Name").html("Cannot be Null");
			    		   } 
						if (opportunity_Name == '') {
							
			    		   	 $("#err_opportunity_Name").html("Cannot be Null");
			    		   } 
						if (opportunity_Description == '') {
							
			    		   	 $("#err_opportunity_Description").html("Cannot be Null");
			    		   } 
						 /*  if (a1Status == '') {
							
								 $("#err_a1_Status").html("Cannot be Null");
			    		   }  */ 
						 if(customer_Name != '' && opportunity_Name != '' && opportunity_Description != '' ){
							 status = true;
						 }
						 return status;
						 
			    }
					//]]>
			</script>	


</h:body>

</html>
